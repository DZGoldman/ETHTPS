@model IndexViewModel
@inject ETHTPSContext _context
<table id="dtBasicExample" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th class="th-sm">
                Provider
            </th>
            <th class="th-sm">
                TPS
            </th>
            <th class="th-sm">
                Type
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach(var provider in Model.Providers)
            {
                <tr>
                    <td>
                        @provider
                    </td>
                    <td id="td-@provider">
                        @Math.Round(Model.ChartData.Data.First(x => x.Provider == provider).Groups.First(x => x.Interval == "Latest").Data.OrderByDescending(x=>x.Date).First().TPS, 2)
                    </td>
                    <td>
                        @{ 
                            var providerTypeID = _context.Providers.First(x => x.Name == provider).Type;
                            var providerName = _context.ProviderTypes.First(x => x.Id == providerTypeID).Name;
                            @providerName
                        }
                    </td>
                </tr>
            }
    </tbody>
</table>

<script>
    $(document).ready(function () {

    });

</script>